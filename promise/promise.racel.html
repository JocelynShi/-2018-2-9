<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8"/>
    <title>Promise 学习笔记</title>
    <script type="text/javascript">
       var p1  = new Promise(function (resolve,reject) {
           setTimeout(function () {
               console.log("p1")
               resolve("第一个promise执行完毕")
           },5000)
       });
       
       var p2 = new Promise(function (resolve,reject) {
           setTimeout(function () {
               console.log("p2")
              /* resolve("第二个promise执行完毕")*/
              reject("第二个promise拒绝了")
           },10000)
       })
       var p3 = new Promise(function (resolve,reject) {
           setTimeout(function () {
               console.log("p3")
               resolve("第三个promise执行完毕")
           },15000)
       })
        const p = Promise.race([p1,p2,p3]);
       p.then(function (data) {
         console.log(data); //当p1,p2,p3任意一个promise实例执行完毕之后就会执行 //"第一个promise执行完毕"
       },function (err) {
           console.log("error"); //当数组p1,p2,p3任何一个执行reject时，就会把这个状态传给p.但是p1，p2,p3都会执行完毕。
       })
    </script>
</head>

<body>

</body>

</html>